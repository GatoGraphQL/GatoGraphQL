"use strict";!function(e){window.popFileUpload={fileUpload:function(a){var o=a.domain,l=a.pageSection;a.targets.each(function(){var a=this,p=e(this),t=p.data("action"),n=popManager.getBlock(p);p.fileupload({url:t,autoUpload:!0,maxNumberOfFiles:1,maxFileSize:2e6,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,uploadTemplateId:null,downloadTemplateId:null,uploadTemplate:function(a){var o=p.data("template-upload"),l=e(),t={o:a,locale:locale};popJSRuntimeManager.setBlockURL(n);var d=popManager.getHtml(o,t),i=e(d);return l=l.add(i)},downloadTemplate:function(a){var t=p.data("template-download"),d=e(),i=popManager.getTargetConfiguration(o,l,n,t);popManager.expandJSKeys(i);var r=e.extend({},i,{o:a,locale:locale});popJSRuntimeManager.setBlockURL(n);var u=popManager.getHtml(t,r),g=e(u);return e(document).triggerHandler("gd-fileupload:rendered",[g]),d=d.add(g)},completed:function(e,a){p.find(".pop-fileuploaded-hide").hide()},destroyed:function(e,a){p.find(".pop-fileuploaded-hide").show()}}),p.hasClass("pop-fileupload-loadfromserver")&&e.getJSON(t,function(o){o&&o.files&&o.files.length&&p.fileupload("option","done").call(a,e.Event("done"),{result:o})})})}}}(jQuery),popJSLibraryManager.register(popFileUpload,["fileUpload"]);