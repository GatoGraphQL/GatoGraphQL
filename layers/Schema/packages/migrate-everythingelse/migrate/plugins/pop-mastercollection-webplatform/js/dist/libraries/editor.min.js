"use strict";!function(t){window.popEditor={editor:function(i){var e=this,o=i.pageSection,n=i.block,r=i.targets;n.one("rerender",function(t){e.destroy(r)}),popManager.getPageSectionPage(n).one("destroy",function(){e.destroy(r)}),r.each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id");i.closest("form").on("beforeSubmit",function(){tinymce.get(e)&&tinymce.get(e).save()})}),r.filter(".pop-editor-form-clear").each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id");i.closest("form").on("clear",function(){tinymce.get(e)&&tinymce.get(e).setContent("")})}),!POP_CACHED_SETTINGS&&popManager.isFirstLoad(o)||t(document).ready(function(t){r.each(function(){var i=t(this).find(".pop-editor"),e=i.attr("id"),o=tinyMCEPreInit.mceInit[M.TEMPLATE_EDITOR_NAME];i.hasClass("pop-editor-autofocus")&&(o=t.extend({},o,{auto_focus:e})),tinyMCE.init(o),tinymce.execCommand("mceAddEditor",!0,e);var n=t.extend({},tinyMCEPreInit.qtInit[M.TEMPLATE_EDITOR_NAME],{id:e});quicktags(n),window.wpActiveEditor||(window.wpActiveEditor=e),"undefined"!=typeof jQuery?i.closest(".wp-editor-wrap").on("click.wp-editor",function(){this.id&&(window.wpActiveEditor=this.id.slice(3,-5))}):document.getElementById("wp-"+e+"-wrap").onclick=function(){window.wpActiveEditor=this.id.slice(3,-5)}})})},destroy:function(i){i.each(function(){var i=t(this).find(".pop-editor").attr("id");tinymce.execCommand("mceRemoveEditor",!1,i)})}}}(jQuery),popJSLibraryManager.register(popEditor,["editor"]);