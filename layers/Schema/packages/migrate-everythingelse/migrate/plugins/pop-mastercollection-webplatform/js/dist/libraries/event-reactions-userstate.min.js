"use strict";!function(e){window.popEventReactionsUserState={resetOnUserLogout:function(t){var o=t.domain,n=t.pageSection,a=t.targets;e(document).on("user:loggedout:"+o,function(t,r){a.each(function(){var t=e("#"+e(this).attr("id"));t.length&&popManager.reset(o,n,t)})})},destroyPageOnUserLoggedOut:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserLoggedOut(o,a)})},destroyPageOnUserNoRole:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserNoRole(o,n,a)})},deleteBlockFeedbackValueOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block;e(document).on("user:loggedinout:"+o,function(t,r){if("initialfeedback"!=r&&"initialuserdata"!=r){var g=popManager.getJsSettings(o,n,a)["user:loggedinout-deletefeedbackvalue"]||[];if(g.length){var i=popManager.getBlockFeedback(o,n,a);e.each(g,function(e,t){for(var o=i,n=0;n<t.length-1;n++)o=o[t[n]];delete o[t[t.length-1]]})}}})},scrollTopOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block,r=t.targets;e(document).on("user:loggedinout:"+o,function(t,g){"initialfeedback"!=g&&"initialuserdata"!=g&&r.each(function(){var t=e(this);if(e("#"+t.attr("id")).length){var r=popManager.getJsSettings(o,n,a,t)["scrolltop-animate"]||!1;popManager.scrollToElem(t,t,r)}})})},execDestroyPageOnUserLoggedOut:function(t,o){e(document).one("user:loggedout:"+t,function(t,n){o.each(function(){var t=e("#"+e(this).attr("id"));if(t.length){var o=popManager.getPageSection(t),n=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(t),n)}})})},execDestroyPageOnUserNoRole:function(t,o,n){var a=this,r=n.data("neededrole");e(document).one("user:updated:"+t,function(g,i){if((n=e("#"+n.attr("id"))).length)if(i.roles&&-1==i.roles.indexOf(r)){var s=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(n),s)}else a.execDestroyPageOnUserNoRole(t,o,n)})}}}(jQuery),popJSLibraryManager.register(popEventReactionsUserState,["resetOnUserLogout","destroyPageOnUserLoggedOut","destroyPageOnUserNoRole","deleteBlockFeedbackValueOnUserLoggedInOut","scrollTopOnUserLoggedInOut"]);