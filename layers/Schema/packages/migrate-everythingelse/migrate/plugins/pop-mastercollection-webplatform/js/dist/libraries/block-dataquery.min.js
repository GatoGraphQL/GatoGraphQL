"use strict";!function(t){window.popBlockDataQuery={initDelegatorFilter:function(e){var a=e.pageSection;e.targets.submit(function(e){e.preventDefault();var o=t(this);if(o.data("blocktarget")){var i=t(o.data("blocktarget")),n=popManager.getPageSection(i);popManager.isBlockGroup(i)?popBlockGroupDataQuery.filterBlockGroup(n,i,o):popManager.filter(n,i,o),popPageSectionManager.close(a,"xs")}})},initBlockFilter:function(e){var a=e.pageSection,o=e.block;e.targets.submit(function(e){e.preventDefault();var i=t(this);i.data("blocktarget")&&(o=t(i.data("blocktarget")),a=popManager.getPageSection(o)),popManager.filter(a,o,i)})},reloadBlock:function(t){var e=t.pageSection,a=t.block;t.targets.click(function(t){t.preventDefault(),popManager.reload(e,a)})},loadLatestBlock:function(t){var e=t.domain,a=t.pageSection,o=t.block;t.targets.click(function(t){t.preventDefault(),popManager.loadLatest(e,a,o)})},timeoutLoadLatestBlock:function(e){var a=this,o=e.domain,i=e.pageSection,n=e.block;e.targets.each(function(){var e=t(this),c=e.data("clicktime")||3e4;a.execTimeoutLoadLatestBlock(o,i,n,e,c)})},initFilter:function(e){var a=e.pageSection,o=e.block;e.targets.each(function(){var e=t(this);popManager.setFilterBlockParams(a,o,e)})},makeAlwaysRefetchBlock:function(e){var a=this,o=e.pageSection;e.block.on("visible",function(){var e=t(this);a.refetchBlock(o,e)})},execTimeoutLoadLatestBlock:function(e,a,o,i,n){var c=this,r=popManager.getJsSettings(e,a,o,i),l={"skip-status":!0,"datasetcount-target":r["datasetcount-target"],"datasetcount-updatetitle":r["datasetcount-updatetitle"]};!(r["only-loggedin"]||!1)||popUserAccount.isLoggedIn(e)?setTimeout(function(){t("#"+i.attr("id")).length&&(popManager.loadLatest(e,a,o,l),c.execTimeoutLoadLatestBlock(e,a,o,i,n))},n):t(document).one("user:loggedin:"+e,function(t,r){c.execTimeoutLoadLatestBlock(e,a,o,i,n)})},execRefetchBlock:function(e,a){var o=this;a.each(function(){var a=t("#"+t(this).attr("id"));a.length&&o.refetchBlock(e,a)})},refetchBlock:function(t,e){var a={"post-data":e.data("post-data"),"show-disabled-layer":!0};popManager.refetch(t,e,a)},makeOneTimeRefetch:function(e,a){popManager.jsInitialized(a)&&popManager.isContentLoaded(e,a)&&a.one("visible",function(){var a=t(this);popBlockDataQuery.refetchBlock(e,a)})}}}(jQuery),popJSLibraryManager.register(popBlockDataQuery,["initDelegatorFilter","initBlockFilter","reloadBlock","loadLatestBlock","timeoutLoadLatestBlock","initFilter","makeAlwaysRefetchBlock"]);