"use strict";!function(t){window.popURLInterceptors={fullurl:{},partialurl:{},pageSectionNewDOMsInitialized:function(e){var r=this,a=e.pageSection,n=e.newDOMs;n.find('[data-intercept="fullurl"]').addBack('[data-intercept="fullurl"]').each(function(){var e=t(this),n=e.attr("id"),i=r.getUrl(e),l=(r.getSettings(e),r.getTarget(a,e));r.fullurl[l]||(r.fullurl[l]={}),r.fullurl[l][i]||(r.fullurl[l][i]=[]),r.fullurl[l][i].push(n)}),n.find('[data-intercept="partialurl"]').addBack('[data-intercept="partialurl"]').each(function(){var e=t(this),n=e.attr("id"),i=r.getUrl(e),l=(r.getSettings(e),r.getTarget(a,e));r.partialurl[l]||(r.partialurl[l]={}),r.partialurl[l][n]=i})},destroyTarget:function(e){var r=this,a=e.pageSection,n=e.destroyTarget;n.find('[data-intercept="fullurl"]').each(function(){var e=t(this),n=e.attr("id"),i=r.getUrl(e),l=(r.getSettings(e),r.getTarget(a,e)),u=r.fullurl[l][i];u&&((u=u.filter(function(t,e){return n!=t})).length?r.fullurl[l][i]=u:delete r.fullurl[l][i])}),n.find('[data-intercept="partialurl"]').each(function(){var e=t(this),n=e.attr("id"),i=r.getTarget(a,e);delete r.partialurl[i][n]})},getSettings:function(t){var e=t.data("intercept-settings")||"";return e=e.split(M.SEPARATOR)},getTarget:function(t,e){return e.attr("target")||popManager.getFrameTarget(t)},getUrl:function(t){return t.data("intercept-url")},getFullUrlInterceptors:function(e,r){var a=this,n=[],i=(r=r||{}).target||M.URLPARAM_TARGET_MAIN,l=a.fullurl;if(l[i])if(l[i][e])n.push(t("#"+l[i][e].join(", #")));else{var u=removeParams(e);if(e!=u&&l[i][u]){var p=t("#"+l[i][u].join(", #")).filter(".pop-interceptor");p.length&&n.push(p)}}return n},getPartialUrlInterceptor:function(e,r){var a=this,n=null,i=(r=r||{}).target||M.URLPARAM_TARGET_MAIN,l=a.partialurl;if(i){var u=l[i];u&&t.each(u,function(r,a){if(e.startsWith(a))return n=t("#"+r),!1})}return n},getURLInterceptors:function(t,e){var r=this,a=r.getFullUrlInterceptors(t,e),n=r.getPartialUrlInterceptor(t,e);return n&&a.push(n),a},getInterceptors:function(t,e){var r=this,a=r.getURLInterceptors(t,e);if(a.length)return a;var n=removeMarker(t);return n!=t&&(a=r.getURLInterceptors(n,e)),a},intercept:function(e,r){var a=this;r=r||{};var n=a.getInterceptors(e,r);if(n.length){r.event&&r.event.stopImmediatePropagation(),t.each(n,function(t,a){if(!(a.data("intercept-skipstateupdate")||r.skipstateupdate))return r.skipPushState||popBrowserHistory.pushState(e),popManager.updateTitle(a.data("title")),-1});var i=r["interceptor-atts"]||{};return t.each(n,function(n,l){t.each(i,function(t,e){l.data(t,e)});var u=r.relatedTarget;l.data("interceptedTarget",u);a.getSettings(l.parent());l.data("original-url",e),l.data("post-data",getParams(e)),l.trigger("click")}),!0}return!1}}}(jQuery),popJSLibraryManager.register(popURLInterceptors,["destroyTarget","pageSectionNewDOMsInitialized"],!0);