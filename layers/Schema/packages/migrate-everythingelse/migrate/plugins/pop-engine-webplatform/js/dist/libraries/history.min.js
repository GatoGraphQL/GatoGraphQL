"use strict";!function(e){window.popBrowserHistory={loaded:!1,documentInitialized:function(){var t=this;e(window).on("popstate",function(e){if(t.loaded){var r=t.removePushURLAtts(window.location.href);r=t.getApplicationURL(r);var o={skipPushState:!0};popURLInterceptors.getInterceptors(r).length?popURLInterceptors.intercept(r,o):popManager.fetch(r,o)}else t.loaded=!0})},getApplicationURL:function(e){var t={url:e};return popJSLibraryManager.execute("modifyApplicationURL",t),e=t.url},addPushURLAtts:function(t){var r=popManager.getTopLevelFeedback(getDomain(t));return e.each(r[M.DATALOAD_PUSHURLATTS],function(e,r){t=add_query_arg(e,r,t)}),t},removePushURLAtts:function(t){var r=popManager.getTopLevelFeedback(getDomain(t)),o=[];return e.each(r[M.DATALOAD_PUSHURLATTS],function(e,t){o.push(e)}),removeQueryFields(t,o)},pushState:function(e){var t=this,r={url:e=t.addPushURLAtts(e)};popJSLibraryManager.execute("modifyPushStateURL",r),e=r.url,history.pushState({url:e},"",e),t.loaded=!0},replaceState:function(e){var t=this;window.location.url!=e&&(e=t.addPushURLAtts(e),history.replaceState({url:e},"",e),t.loaded=!0)}}}(jQuery),popJSLibraryManager.register(popBrowserHistory,["documentInitialized"],!0);