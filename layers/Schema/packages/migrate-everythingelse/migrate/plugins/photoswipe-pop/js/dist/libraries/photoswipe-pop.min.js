"use strict";!function(t){window.popPhotoSwipe={linksImage:function(e){var i=this,r=e.anchor;new PhotoSwipe(t("#pswp")[0],PhotoSwipeUI_Default,i.getItems(r),i.getOptions(r)).init()},getOptions:function(t){return{index:this.getIndex(t),bgOpacity:.8,showHideOpacity:!0,history:!1,loop:!1,shareButtons:[{id:"download",label:M.LABELS.DOWNLOAD,url:"{{raw_image_url}}?fileaction=download",download:!0}]}},getItem:function(t){var e=t.children("img"),i={src:t.attr("href"),msrc:e.attr("src"),w:640,h:480};if(e.attr("width")&&e.attr("height")&&(i.w=e.attr("width"),i.h=e.attr("height")),t.data("size")){var r=t.data("size").split("x");i.w=r[0],i.h=r[1]}return t.attr("title")?i.title=t.attr("title"):e.attr("alt")&&(i.title=e.attr("alt")),i},getItems:function(e){var i=this,r=[],a=e.closest(".gallery");return a.length?a.find(".gallery-item a").each(function(){r.push(i.getItem(t(this)))}):r.push(i.getItem(e)),r},getIndex:function(t){var e=t.closest(".gallery-item");return e.length?e.index():0}}}(jQuery),popJSLibraryManager.register(popPhotoSwipe,["linksImage"]);