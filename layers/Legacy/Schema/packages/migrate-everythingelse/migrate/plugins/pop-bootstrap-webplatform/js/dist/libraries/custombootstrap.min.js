"use strict";!function(a){window.popCustomBootstrap={initDocument:function(){a(document).on("focusin",function(t){a(t.target).closest(".mce-window").length&&t.stopImmediatePropagation()})},pageSectionNewDOMsInitialized:function(a){var t=this,e=a.domain,n=a.pageSection,o=a.newDOMs;t.activateNestedComponents(n,o),t.showComponentInitializeJS(e,n,o),t.triggerTabPaneEvents(o)},onBootstrapEventWindowResize:function(a){var t=a.targets;t.find(".collapse").addBack(".collapse").on("shown.bs.collapse hidden.bs.collapse",windowResize),t.find(".tab-pane").addBack(".tab-pane").on("shown.bs.tabpane",windowResize),t.find(".carousel").addBack(".carousel").on("slid.bs.carousel",windowResize)},isHidden:function(a){var t=a.targets;return!!t.parents(".collapse,.modal").not(".in").length||!!t.parents(".tab-pane").not(".active").length},isActive:function(a){var t=a.targets;return!(t.hasClass("tab-pane")&&!t.hasClass("active"))},activeTabLink:function(t){t.targets.click(function(t){a(this).parent("li").addClass("active").siblings("li").removeClass("active")})},activatePageTab:function(t){var e=this,n=t.pageSection,o=t.targets;o.click(function(){var t=a(this),o=a(t.data("target"));e.clickPageTab(n,o)}),o.each(function(){var t=a(this);t.closest(".pop-pagesection-page").find(".pop-pagetab-btn").not(".pop-inactive").length&&t.trigger("click")})},customQuickView:function(a){var t=a.pageSection,e=t.closest(".modal");t.on("fetched",function(){popBootstrap.showingModal(e)||(popBootstrap.closeModals(),e.modal("show"))}),popManager.getPageSectionGroup(t).on("on.bs.pagesection-group:pagesection-"+t.attr("id")+":closed",function(){e.modal("hide")})},destroyPageOnModalClose:function(t){t.pageSection;t.targets.each(function(){var t=a(this);t.closest(".modal").on("hidden.bs.modal",function(){t.trigger("click")})})},customCloseModals:function(a){a.pageSection.on("destroy",function(){popBootstrap.closeModals()})},showComponentInitializeJS:function(a,t,e){var n=this,o=e.find(".collapse.pop-bscomponent").addBack(".collapse.pop-bscomponent");o.length&&n.initComponentHandlers(a,t,o,"shown.bs.collapse");var i=e.find(".modal.pop-bscomponent").addBack(".modal.pop-bscomponent");i.length&&n.initComponentHandlers(a,t,i,"shown.bs.modal");var s=e.find(".tab-pane.pop-bscomponent").addBack(".tab-pane.pop-bscomponent");s.length&&n.initComponentHandlers(a,t,s,"shown.bs.tabpane");var c=e.find(".carousel.pop-bscomponent").addBack(".carousel.pop-bscomponent");c.length&&n.initComponentHandlers(a,t,c,"slid.bs.carousel",!0)},initComponentHandlers:function(t,e,n,o,i){var s=this;n.on(o,function(n){var o=a(i?n.relatedTarget:this),c=a(o.data("initjs-targets")),r={"post-data":o.data("post-data")};s.recursiveSetBlockData(t,e,c,r)}),n.on(o,function(n){var o=a(i?n.relatedTarget:this),s=a(o.data("initjs-targets")).not("."+M.JS_INITIALIZED);if(s.length){var c={"force-init":!0},r=o.data("intercept-url")||o.data("original-url");r&&(c.url=r),popManager.initBlockBranches(t,e,s,null,c)}}),n.on(o,function(n){var o=a(i?n.relatedTarget:this),c=a(o.data("initjs-targets"));o.data("onetime-refetch")&&s.recursiveOneTimeRefetch(t,e,c),s.triggerBlocksVisible(t,e,c)})},recursiveSetBlockData:function(t,e,n,o){var i=this;n.each(function(){var n=a(this);a.each(o,function(a,t){n.data(a,t)});var s=popManager.getJsSettings(t,e,n)["initjs-blockbranches"];s&&i.recursiveSetBlockData(t,e,a(s.join(", ")),o)})},recursiveOneTimeRefetch:function(t,e,n){var o=this;n.each(function(){var n=a(this);popBlockDataQuery.makeOneTimeRefetch(e,n);var i=popManager.getJsSettings(t,e,n)["initjs-blockbranches"];i&&o.recursiveOneTimeRefetch(t,e,a(i.join(", ")))})},triggerBlocksVisible:function(t,e,n){var o=this;n.each(function(){var n=a(this);n.triggerHandler("visible");var i=popManager.getJsSettings(t,e,n)["initjs-blockbranches"];i&&o.triggerBlocksVisible(t,e,a(i.join(", ")))})},activateNestedComponents:function(t,e){var n=this;e.find("div.tab-pane div.tab-pane").addBack("div.tab-pane div.tab-pane").on("shown.bs.tabpane",function(){n.activateOuterTabPanes(a(this))}),e.find("div.tab-pane div.collapse").addBack("div.tab-pane div.collapse").on("shown.bs.collapse",function(){n.activateOuterTabPanes(a(this))}),e.find("div.carousel div.collapse").addBack("div.carousel div.collapse").on("shown.bs.collapse",function(){n.activateOuterCarousel(a(this))}),e.find("div.carousel div.tab-pane").addBack("div.carousel div.tab-pane").on("shown.bs.tabpane",function(){n.activateOuterCarousel(a(this))})},activateOuterTabPanes:function(t){var e=t.parents(".tab-pane").not(".active");e.length&&a('a[href="#'+e.attr("id")+'"]').tab("show")},activateOuterCarousel:function(a){var t=a.closest(".carousel");popBootstrapCarousel.showElement(t,a)},triggerTabPaneEvents:function(t){var e=this;t.find('a[data-toggle="tab"]').addBack('a[data-toggle="tab"]').on("show.bs.tab",function(t){e.triggerTabPaneEvent(a(this),t,"show.bs.tabpane")}).on("shown.bs.tab",function(t){e.triggerTabPaneEvent(a(this),t,"shown.bs.tabpane")}).on("hide.bs.tab",function(t){e.triggerTabPaneEvent(a(this),t,"hide.bs.tabpane")}).on("hidden.bs.tab",function(t){e.triggerTabPaneEvent(a(this),t,"hidden.bs.tabpane")})},triggerTabPaneEvent:function(t,e,n){var o=a(a(e.target).attr("href"));o.data("post-data",t.data("post-data")),o.data("onetime-refetch",t.data("onetime-refetch")),o.data("intercept-url",t.data("intercept-url")),o.data("original-url",t.data("original-url")),o.triggerHandler(n,[e])},activatePageTabs:function(a,t,e){e&&t.filter(".pop-pagesection-page").find(".pop-pagetab-btn").addClass("pop-inactive")},activateSideTabpanes:function(a,t,e){var n=t.filter(".tab-pane");if(n.length){var o=popManager.isFirstLoad(a);e||(o||t.siblings(".tab-pane").removeClass("active"),n.addClass("active")),n.on("shown.bs.tabpane",function(){"automatic"==popPageSectionManager.getOpenMode(a)&&(popPageSectionManager.open(a),popManager.scrollTop(a))}),e||o||popManager.scrollTop(a)}},activateQuickviewTabpanes:function(a,t,e){var n=t.filter(".tab-pane");n.length&&n.addClass("active").siblings(".tab-pane").removeClass("active")},activateModals:function(a,t){var e=t.filter(".modal");e.length&&(popBootstrap.closeModals(),e.modal("show"),e.on("show.bs.modal",function(a){popManager.closeMessageFeedback(e)}),e.on("shown.bs.modal",function(a){windowResize()}))},activateTabPanes:function(t,e,n,o,i){var s=this,c=e.filter(".tab-pane");if(c.length){var r=popManager.isFirstLoad(t);if(!n){if(!r){var p=e.siblings(".tab-pane.active");s.savePosition(t,p),p.removeClass("active")}c.addClass("active")}c.on("show.bs.tabpane",function(){var e=a(this).siblings(".active");e.length&&s.savePosition(t,e)}).on("shown.bs.tabpane",function(){var e=a(this);popPageSectionManager.open(t),s.newPageSectionJS(t,o,i,e)}),n||r||s.newPageSectionJS(t,o,i)}},clickPageTab:function(a,t){a.find(".pop-pagetab-btn").removeClass("active"),t.addClass("active")},getPosition:function(t){var e=popJSLibraryManager.execute("getPosition",{elem:t}),n=0;return a.each(e,function(a,t){if(t)return n=t,-1}),n},savePosition:function(a,t){var e=this;t.data("lastposition",e.getPosition(a)),t.data("theater",popPageSectionManager.isTheater())},newPageSectionJS:function(t,e,n,o){n.each(function(){var t=a(this);popPageSectionManager.close(t,"xs")}),popBootstrap.closeModals();var i;o?(void 0!==o.data("lastposition")&&(popManager.scrollTop(t,o.data("lastposition")),o.data("lastposition",null)),i=o.data("theater")||!1,o.data("theater",null)):popManager.scrollTop(t,0),e&&!i&&popPageSectionManager.theater(!1),i&&popPageSectionManager.theater(!0),windowResize()}}}(jQuery),popJSLibraryManager.register(popCustomBootstrap,["initDocument","pageSectionNewDOMsInitialized","activeTabLink","isHidden","isActive"],!0),popJSLibraryManager.register(popCustomBootstrap,["customQuickView","destroyPageOnModalClose","customCloseModals","activatePageTab","onBootstrapEventWindowResize"]);