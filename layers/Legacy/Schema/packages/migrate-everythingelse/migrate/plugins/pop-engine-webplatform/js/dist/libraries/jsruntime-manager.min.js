"use strict";!function(s){window.popJSRuntimeManager={"full-session-ids":{},"last-session-ids":{},blockURL:null,pageSectionURL:null,setPageSectionURL:function(s){this.pageSectionURL=s},setBlockURL:function(e){var t=this,i="";if("object"==s.type(e)){var n=e;i=popManager.getBlockTopLevelURL(n)}else i=e;t.blockURL=i,t.setPageSectionURL(i)},initBlockVarPaths:function(s,e,t,i,n,a,o){o=o||M.JSMETHOD_GROUP_MAIN,s[e]||(s[e]={}),s[e][t]||(s[e][t]={}),s[e][t][i]||(s[e][t][i]={}),s[e][t][i][n]||(s[e][t][i][n]={}),s[e][t][i][n][a]||(s[e][t][i][n][a]={}),s[e][t][i][n][a][o]||(s[e][t][i][n][a][o]=[])},initVars:function(s,e,t,i,n,a){var o=this;o.initBlockVarPaths(o["full-session-ids"],s,e,t,i,n,a),o.initBlockVarPaths(o["last-session-ids"],s,e,t,i,n,a)},addGroup:function(s,e){return e&&(s+=M.ID_SEPARATOR+e),s},addPageSectionId:function(s,e,t,i,n){return this.addTemplateId(s,e,e,t,i,n,!0,!0)},addTemplateId:function(s,e,t,i,n,a,o,d,l){var r=this;return d||(n+=popManager.getUniqueId(s)),o||(n+=M.ID_SEPARATOR+counterNext()),n=r.addGroup(n,a),l||r.addTargetId(r.pageSectionURL,s,e,e,i,a,n),e!=t&&r.addTargetId(r.blockURL,s,e,t,i,a,n),n},addTargetId:function(s,e,t,i,n,a,o){var d=this;return a=a||M.JSMETHOD_GROUP_MAIN,d.initVars(s,e,t,i,n,a),d["full-session-ids"][s][e][t][i][n][a].push(o),d["last-session-ids"][s][e][t][i][n][a].push(o),o},getLastGeneratedId:function(s,e,t,i,n){var a=this;n=n||M.JSMETHOD_GROUP_MAIN;var o=e==t?a.pageSectionURL:a.blockURL,d=a["full-session-ids"][o][s][e][t][i][n];return d[d.length-1]},getPageSectionSessionIds:function(s,e,t){var i=this,n=i.pageSectionURL;return i.getTargetSessionIds(n,s,e,e,t)},getBlockSessionIds:function(s,e,t,i){var n=this,a=popManager.getBlockTopLevelURL(t);return n.getTargetSessionIds(a,s,e,t,i)},getTargetSessionIds:function(s,e,t,i,n){var a=this,o=popManager.getSettingsId(t),d=popManager.getSettingsId(i);return n=n||"last",a[n+"-session-ids"][s]&&a[n+"-session-ids"][s][e]&&a[n+"-session-ids"][s][e][o]?a[n+"-session-ids"][s][e][o][d]:null},deletePageSectionLastSessionIds:function(e,t){var i=this,n=popManager.getSettingsId(t),a=i.pageSectionURL;delete i["last-session-ids"][a][e][n][n],s.isEmptyObject(i["last-session-ids"][a][e][n])&&(delete i["last-session-ids"][a][e][n],s.isEmptyObject(i["last-session-ids"][a][e])&&(delete i["last-session-ids"][a][e],s.isEmptyObject(i["last-session-ids"][a])&&delete i["last-session-ids"][a]))},deleteBlockLastSessionIds:function(e,t,i){var n=this,a=popManager.getSettingsId(t),o=popManager.getSettingsId(i),d=popManager.getBlockTopLevelURL(i);n["last-session-ids"][d]&&n["last-session-ids"][d][e]&&n["last-session-ids"][d][e][a]&&n["last-session-ids"][d][e][a][o]&&(delete n["last-session-ids"][d][e][a][o],s.isEmptyObject(n["last-session-ids"][d][e][a])&&(delete n["last-session-ids"][d][e][a],s.isEmptyObject(n["last-session-ids"][d][e])&&(delete n["last-session-ids"][d][e],s.isEmptyObject(n["last-session-ids"][d])&&delete n["last-session-ids"][d])))}}}(jQuery);