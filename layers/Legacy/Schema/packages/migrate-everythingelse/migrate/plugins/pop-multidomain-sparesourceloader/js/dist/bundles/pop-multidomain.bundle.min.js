"use strict";!function(i){window.popMultiDomain={config:{"resourceloader-config":{sources:{}},"domain-scripts":{}},triggered:[],initDomain:function(r){var a=this,o=r.domain;if(o!=M.HOME_DOMAIN){var e={};e[M.PLACEHOLDER_DOMAINURL.format(encodeURIComponent(o))]=[M.URLPARAM_TARGET_MAIN],popManager.backgroundLoad(e);var n=a.config["domain-scripts"][o];void 0!==n&&n.length&&i.each(n,function(i,r){load_script(r)})}},modifyFetchArgs:function(i){var r=this,a=i.domain,o=i.url;i.url=r.addOriginParameter(a,o)},modifyFetchBlockArgs:function(i){var r=this,a=i.domain,o=i.url;i.url=r.addOriginParameter(a,o)},formatFeedbackMessage:function(i){var r=i.message,a=i.tls,o=i.bs["is-multidomain"],e=a.domain;if(o&&e){var n=M.MULTIDOMAIN_WEBSITES[e]?M.MULTIDOMAIN_WEBSITES[e].name:e;i.message=M.FEEDBACKMSG_MULTIDOMAIN.format(n,r)}},clickURLParam:function(r){var a=getParam(M.URLPARAM_URL);a&&i(document).ready(function(i){popManager.click(decodeURIComponent(a))})},modifyPushStateURL:function(i){var r=i.url;r.startsWith(M.HOME_DOMAIN)||(i.url=add_query_arg(M.URLPARAM_URL,encodeURIComponent(r),M.EXTERNAL_URL))},modifyApplicationURL:function(i){var r=i.url;r.startsWith(M.EXTERNAL_URL)&&(i.url=decodeURIComponent(getParam(M.URLPARAM_URL,r)))},preFetchPageSection:function(r){var a=this;if(M.USECODESPLITTING){var o=r.url,e=getDomain(o);if(e!=M.HOME_DOMAIN&&!popResourceLoader.config[e]&&-1==a.triggered.indexOf(e)){a.triggered.push(e);var n=a.config["resourceloader-config"].sources[e]||[];i.each(n,function(i,r){load_script(r,null,!0)})}}},addOriginParameter:function(i,r){return i!=M.HOME_DOMAIN&&(r=add_query_arg(M.URLPARAM_ORIGIN,getDomainId(M.HOME_DOMAIN),r)),r}}}(jQuery),popJSLibraryManager.register(popMultiDomain,["initDomain","preFetchPageSection"],!0),popJSLibraryManager.register(popMultiDomain,["modifyFetchArgs","modifyFetchBlockArgs","formatFeedbackMessage","clickURLParam","modifyPushStateURL","modifyApplicationURL"]);