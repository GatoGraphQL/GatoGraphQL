"use strict";Handlebars.registerHelper("latestCountTargets",function(e,a){var t=[],s=".pop-block."+M.JS_INITIALIZED+" > .blocksection-latestcount > .pop-latestcount",n=e["post-type"],r=e.cats;return r&&r.length&&t.push(s+"."+n+"-"+r.join("."+n+"-")),jQuery.each(e.tags,function(e,a){var n=s+".tag"+a;t.push(n)}),jQuery.each(e.authors,function(e,a){var o=s+".author"+a;r&&r.length&&(o+=".author-"+n+"-"+r.join(".author-"+n+"-")),t.push(o)}),jQuery.each(e.references,function(e,a){var o=s+".single"+a;r&&r.length&&(o+=".single-"+n+"-"+r.join(".single-"+n+"-")),t.push(o)}),new Handlebars.SafeString(t.join(","))}),Handlebars.registerHelper("formatFeedbackMessage",function(e,a){var t=a.hash.tls,s=a.hash.pss,n=a.hash.bs;return e=popFeedbackMessage.formatFeedbackMessage(e,t,s,n),new Handlebars.SafeString(e)});
;"use strict";jQuery,window.popSystem={closePageSection:function(e){var t=e.pageSection;e.targets.click(function(e){e.preventDefault(),popPageSectionManager.close(t)})}},popJSLibraryManager.register(popSystem,["closePageSection"]);
;"use strict";!function(t){window.popAppShell={strings:{},fetchBrowserURL:function(e){t(document).ready(function(t){var e={skipPushState:!0},r=window.location.href;r.startsWith(M.HOMELOCALE_URL+"/")||(r=M.HOMELOCALE_URL+r.substr(M.HOME_DOMAIN.length)),popManager.fetch(r,e)})}}}(jQuery),popJSLibraryManager.register(popAppShell,["fetchBrowserURL"]);
;"use strict";!function(e){window.popAddEditPost={formCreatePostBlock:function(e){var t=this,a=e.domain,o=e.pageSection,n=e.block;popManager.getSettingsId(o),popManager.getSettingsId(n);n.one("fetched",function(e,i){t.execFormCreatePostBlock(a,o,n,i)})},manageStatus:function(e){var t=this,a=e.pageSection,o=e.block,n=e.targets;t.execManageStatus(n);var i=popManager.getSettingsId(a),r=popManager.getSettingsId(o);o.on("fetched",function(e,a){!0===a.feedback.block[i][r].result&&t.execManageStatus(n)})},execFormCreatePostBlock:function(e,t,a,o){var n=this,i=popManager.getSettingsId(t),r=popManager.getSettingsId(a);!0===o.feedback.block[i][r].result?popEventReactionsUserState.execDestroyPageOnUserLoggedOut(e,a):a.one("fetched",function(o,i){n.execFormCreatePostBlock(e,t,a,i)})},execManageStatus:function(t){t.each(function(){var t=e(this);t.val()==M.POSTSTATUS.PUBLISH?(t.find('option[value="'+M.POSTSTATUS.PENDING+'"]').attr("disabled","disabled"),t.find('option[value="'+M.POSTSTATUS.PUBLISH+'"]').attr("disabled",!1)):(t.find('option[value="'+M.POSTSTATUS.PUBLISH+'"]').attr("disabled","disabled"),t.find('option[value="'+M.POSTSTATUS.PENDING+'"]').attr("disabled",!1))})}}}(jQuery),popJSLibraryManager.register(popAddEditPost,["formCreatePostBlock","manageStatus"]);
;"use strict";function mentions_source(e,n,t){popMentions.source(e,n,t)}function mentions_insert(e){return popMentions.insert(e)}function mentions_render(e){return popMentions.render(e)}!function(e){window.popMentions={previousData:{},documentInitialized:function(n){var t=this;e(document).ready(function(e){t.prefetch()})},prefetch:function(){var n=this;e.each(M.MENTIONS.TYPES,function(e,t){n.fetchData(e,t.baseline)})},fetchData:function(n,t,r){var i=this,a=popManager.getStoredData(t);a?i.processData(n,a,r):e.getJSON(t,function(e){popManager.storeData(t,e,864e5),i.processData(n,e,r)})},processData:function(e,n,t){this.previousData[e]=n,t&&t(n)},source:function(e,n,t){var r=this;if(M.MENTIONS.TYPES[t]){var i;if(i=e?M.MENTIONS.TYPES[t].url.replace(M.MENTIONS.QUERYWILDCARD,e):M.MENTIONS.TYPES[t].baseline){var a={url:i=popManager.maybeModifyURL(i),delimiter:t,query:e};popJSLibraryManager.execute("mentionsSource",a),i=a.url,n(r.previousData[t]||[]),r.fetchData(t,i,n)}}},render:function(e){var n=this.infereDelimiter(e);return'<li><a href="javascript:;"><span>'+popManager.getHtml(M.MENTIONS.TYPES[n].template,e)+"</span></a></li>"},insert:function(e){var n=this.infereDelimiter(e);return"<span>"+n+e[M.MENTIONS.TYPES[n].key]+"</span>&nbsp;"},infereDelimiter:function(n){var t="";return e.each(M.MENTIONS.TYPES,function(e,r){if(void 0!==n[r.key])return t=e,-1}),t}}}(jQuery),popJSLibraryManager.register(popMentions,["documentInitialized"]);
;"use strict";!function(e){window.popTabs={documentInitialized:function(a){e(document).ready(function(e){var a=!1,t=popManager.getTabsCurrentURL(),n=popManager.getScreenOpenTabs();if(e.each(n,function(e,n){if(n.length>1||e!=M.URLPARAM_TARGET_MAIN&&n.length||e==M.URLPARAM_TARGET_MAIN&&n[0]!=t)return a=!0,-1}),a)if(e.cookie("opentabs"))"true"==e.cookie("opentabs")?popManager.openTabs():popManager.keepScreenOpenTab(popManager.getTabsCurrentURL(),M.URLPARAM_TARGET_MAIN);else{var r=e("#"+M.IDS_APPSTATUS),o="popTabs.keepScreenOpenTab('{0}', '{1}')".format(popManager.getTabsCurrentURL(),M.URLPARAM_TARGET_MAIN);r.prepend(M.TABS_REOPENMSG.format("popTabs.openTabs()",o))}})},onDestroyPageSwitchTab:function(a){var t=this;a.pageSection;a.targets.each(function(){var a=e(this);popManager.getPageSectionPage(a).on("destroy",function(){t.switchTab(a)})})},addOpenTab:function(a){var t=this,n=a.pageSection,r=a.targets;!1!==a.addOpenTab&&r.each(function(){var a=e(this),r=t.getDestroyPageTabParams(n,a);popManager.addOpenTab(r.url,r.target)})},closePageTab:function(a){var t=this,n=a.pageSection;a.targets.click(function(a){a.preventDefault();var r=e(this),o=t.getDestroyPageTabParams(n,r);popManager.triggerDestroyTarget(o.url,o.target)})},getDestroyPageTabParams:function(e,a){return{url:a.data("url")||popManager.getTargetParamsScopeURL(popManager.getBlock(a)),target:a.attr("target")||popManager.getFrameTarget(e)}},switchTab:function(e){if(e.prev("a.pop-pagetab-btn").hasClass("active")){var a=popManager.getPageSectionPage(e),t=a.nextAll(".pop-pagesection-page").first();t.length||(t=a.prevAll(".pop-pagesection-page").first()),t.length&&t.find("a.pop-pagetab-btn").trigger("click")}},saveCookie:function(a){e("#"+M.IDS_TABS_REMEMBERCHECKBOX).prop("checked")&&e.cookie("opentabs",a,{expires:365,path:"/"})},openTabs:function(){this.saveCookie("true"),popManager.openTabs()},keepScreenOpenTab:function(e,a){this.saveCookie("false"),popManager.keepScreenOpenTab(e,a)}}}(jQuery),M.OPENTABS&&popJSLibraryManager.register(popTabs,["documentInitialized","onDestroyPageSwitchTab","addOpenTab","closePageTab"]);
;"use strict";jQuery,window.popWaypoints={reEnable:function(e,t,n){var o=this;t.one("beforeReload",function(){t.one("fetchCompleted",function(){popManager.stopFetchingBlock(e,t)?o.reEnable(e,t,n):n.enable()})})},getOptions:function(e,t){var n={},o=e.filter(".pop-waypoints-context");return o.length?n.context=o:(o=t.closest(".pop-waypoints-context")).length&&(n.context=o),n},getOffset:function(e){return popManager.getPageSection(e).offset().top},destroy:function(e,t,n){popManager.getPageSectionPage(t).one("destroy",function(){n.destroy()})}};
;"use strict";jQuery,window.popWaypointsFetchMore={waypointsFetchMore:function(e){var t=e.pageSection,n=e.block,o=e.targets;jQuery(document).ready(function(e){var a=[],i=popManager.isContentLoaded(t,n);o.each(function(){var o=e(this),p=popWaypoints.getOptions(t,o),r=new Waypoint({element:o,handler:function(e){var t=this.element;if("down"==e){if(popManager.isHidden(t))return;t.trigger("click")}},context:p.context,enabled:i,offset:"bottom-in-view"});popWaypoints.destroy(t,n,r),a.push(r)}),n.on("fetchCompleted",function(n){var o=e(this);popManager.stopFetchingBlock(t,o)?e.each(a,function(e,n){n.enabled&&(n.disable(),popWaypoints.reEnable(t,o,n))}):e.each(a,function(e,t){t.enabled||t.enable(),t.context.refresh()})})})}},popJSLibraryManager.register(popWaypointsFetchMore,["waypointsFetchMore"]);
;"use strict";jQuery,window.popWaypointsHistoryState={waypointsHistoryStateNew:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=popWaypoints.getOptions(e,o),i=new Waypoint({element:o,handler:function(e){var n=this.element;popManager.isHidden(n)||"up"==e&&popManager.historyReplaceState(t(this))},context:a.context,offset:"bottom-in-view"}),p=new Waypoint({element:o,handler:function(e){var n=this.element;popManager.isHidden(n)||"down"==e&&popManager.historyReplaceState(t(this))},context:a.context});popWaypoints.destroy(e,n,i),popWaypoints.destroy(e,n,p)})})},waypointsHistoryStateOriginal:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=popWaypoints.getOptions(e,o),i=new Waypoint({element:o,handler:function(t){var e=this.element;popManager.isHidden(e)||"up"==t&&popManager.historyReplaceState(e)},context:a.context});popWaypoints.destroy(e,n,i)})})}},popJSLibraryManager.register(popWaypointsHistoryState,["waypointsHistoryStateOriginal","waypointsHistoryStateNew"]);
;"use strict";jQuery,window.popWaypointsTheater={waypointsTheater:function(e){var t=e.pageSection,n=e.block,o=e.targets;jQuery(document).ready(function(e){o.each(function(){var o=e(this),a=popWaypoints.getOptions(t,o),p=new Waypoint({element:o,handler:function(e){var t=this.element;popManager.isHidden(t)||("down"==e?popPageSectionManager.theater(!0):"up"==e&&popPageSectionManager.theater(!1))},context:a.context,offset:a.context?0:function(){return popWaypoints.getOffset(this.element)}});popWaypoints.destroy(t,n,p)})})}},popJSLibraryManager.register(popWaypointsTheater,["waypointsTheater"]);
;"use strict";jQuery,window.popWaypointsToggleClass={waypointsToggleClass:function(t){var e=t.pageSection,n=t.block,o=t.targets;jQuery(document).ready(function(t){o.each(function(){var o=t(this),a=t(o.data("target")),s=o.data("class");if(a.length&&s){var i=popWaypoints.getOptions(e,o),p=new Waypoint({element:o,handler:function(t){var e=this.element;popManager.isHidden(e)||("down"==t?a.addClass(s):"up"==t&&a.removeClass(s))},context:i.context,offset:i.context?0:function(){return popWaypoints.getOffset(this.element)}});popWaypoints.destroy(e,n,p)}})})}},popJSLibraryManager.register(popWaypointsToggleClass,["waypointsToggleClass"]);
;"use strict";jQuery,window.popWaypointsToggleCollapse={waypointsToggleCollapse:function(e){var o=this,a=e.targets;jQuery(document).ready(function(e){a.each(function(){var a=e(this),t=e(a.data("collapse-target"));if(t.length){var p=popManager.getBlock(t),n=popManager.getBlock(p);o.execWaypointsToggleCollapse(n,p,t,a)}})})},execWaypointsToggleCollapse:function(e,o,a,t){var p=popWaypoints.getOptions(e,a),n=new Waypoint({element:a,handler:function(e){var o=this.element;popManager.isHidden(o)||("down"==e?t.collapse("show"):"up"==e&&t.collapse("hide"))},context:p.context});popWaypoints.destroy(e,o,n)}},popJSLibraryManager.register(popWaypointsToggleCollapse,["waypointsToggleCollapse"]);
;"use strict";!function(i){window.popWindow={windowSize:function(e){var n=this;e.pageSection;e.targets.click(function(e){e.preventDefault();var a=i(this),m=i(a.data("target"));if(m.length){var s=a.data("toggle");"window-fullsize"==s?n.fullsize(m):"window-maximize"==s?n.maximize(m):"window-minimize"==s&&n.minimize(m)}})},getSize:function(i){return i.hasClass("fullsize")?"fullsize":i.hasClass("maximized")?"maximized":i.hasClass("minimized")?"minimized":null},fullsize:function(i){i.removeClass("maximized minimized").addClass("fullsize"),i.triggerHandler("fullsize.bs.window")},maximize:function(i){i.removeClass("fullsize minimized").addClass("maximized"),i.triggerHandler("maximized.bs.window")},minimize:function(i){i.removeClass("fullsize maximized").addClass("minimized"),i.triggerHandler("minimized.bs.window")}}}(jQuery),popJSLibraryManager.register(popWindow,["windowSize"]);
;"use strict";!function(t){window.popMultiselect={multiselect:function(e){e.pageSection;var n=e.block,l=e.targets;popManager.getPageSectionPage(n).one("destroy",function(){l.multiselect("destroy")});var s={buttonClass:"btn btn-default",buttonContainer:'<div class="btn-group multiselect-btn-group" />',enableHTML:!0,nonSelectedText:M.MULTISELECT_NONSELECTEDTEXT,nSelectedText:M.MULTISELECT_NSELECTEDTEXT,allSelectedText:M.MULTISELECT_ALLSELECTEDTEXT};l.each(function(){var e=t(this),n=t.extend({},s);e.attr("title")&&(n.nonSelectedText=e.attr("title")),e.hasClass("input-sm")&&(n.buttonClass+=" btn-sm"),e.hasClass("input-lg")&&(n.buttonClass+=" btn-lg"),e.multiselect(n)})}}}(jQuery),popJSLibraryManager.register(popMultiselect,["multiselect"]);
;"use strict";jQuery,window.popDynamicMaxHeight={dynamicMaxHeight:function(i){i.targets.dynamicMaxHeight()}},popJSLibraryManager.register(popDynamicMaxHeight,["dynamicMaxHeight"]);
;"use strict";!function(a){window.popDateRange={dateRange:function(e){var t=this,s=e.pageSection,n=(e.block,e.targets),r=M.DATERANGE_FORMAT||"DD/MM/YYYY",l={autoUpdateInput:!1,autoApply:!0,linkedCalendars:!0,showWeekNumbers:!1,timePicker:!1,buttonClasses:["btn"],applyClass:"btn-success",cancelClass:"btn-warning",format:r,separator:M.DATERANGE_SEPARATOR,locale:{applyLabel:M.DATERANGE_APPLY,cancelLabel:M.DATERANGE_CANCEL,fromLabel:M.DATERANGE_FROM,toLabel:M.DATERANGE_TO,customRangeLabel:M.DATERANGE_CUSTOMRANGE,daysOfWeek:M.DATERANGE_DAYSOFWEEK,monthNames:M.DATERANGE_MONTHNAMES,firstDay:1}},o={maxDate:moment().add(1,"days")},i={minDate:moment().subtract(1,"days")},m={opens:"right"},c={opens:"left"};n.each(function(){var e=a(this),n=e.hasClass("opens-left")?c:m,A={parentEl:"#"+popManager.getDOMContainer(s,e).attr("id")},p=a.extend({},l,n,A);if(e.hasClass("daterange-future")&&!e.hasClass("daterange-past")?a.extend(p,i):e.hasClass("daterange-past")&&!e.hasClass("daterange-future")&&a.extend(p,o),e.hasClass("timepicker")){var E=M.DATERANGE_TIMEFORMAT||"h:mm A";p.locale.format=r+" "+E;var f={autoApply:!1,timePicker:!0,timePicker24Hour:"h:mm A"!=E,timePickerIncrement:15};a.extend(p,f)}e.on("apply.daterangepicker",function(e,t){a(this).val(t.startDate.format(t.locale.format)+" - "+t.endDate.format(t.locale.format))}),e.daterangepicker(p,t.callback)})},callback:function(a,e){var t=this.element;t.siblings(".from").val(a.format("YYYY-MM-DD")),t.siblings(".to").val(e.format("YYYY-MM-DD")),t.siblings(".fromtime").length&&(t.siblings(".fromtime").val(a.format("HH:mm")),t.siblings(".totime").val(e.format("HH:mm")))}}}(jQuery),popJSLibraryManager.register(popDateRange,["dateRange"]);
;"use strict";!function(e){window.popTypeahead={selectTypeahead:function(e,t,a,n,r){var o=n.find('input[type="text"].tt-input');popTypeaheadTriggerSelect.triggerSelect(e,t,a,n,r),o.typeahead("val","")},typeahead:function(t,a,n,r){var o=this;popManager.getPageSectionPage(n).one("destroy",function(){o.destroy(r)}),n.one("rerender",function(e){o.destroy(r)}),r.each(function(){var r=e(this),o=r.find('input[type="text"]'),i=popManager.getJsSettings(t,a,n,r),p=[];e.each(i["dataset-components"],function(e,r){var o=popManager.getJsSettings(t,a,n,r);p.push(o.dataset)}),e.each(p,function(e,t){var a=t.layout;t.template=popManager.getScriptTemplate(a);var n={};t.prefetch&&(n.url=popManager.maybeModifyURL(t.prefetch),popJSLibraryManager.execute("typeaheadPrefetchURL",n),t.prefetch=n.url),t.remote&&(n.url=popManager.maybeModifyURL(t.remote),popJSLibraryManager.execute("typeaheadRemoteURL",n),t.remote=n.url)});var h=[],c=[];e.each(p,function(t,a){var n=a.limit;p.length>1&&n>3&&(n=3);var r={datumTokenizer:function(t){var n=[];return e.each(a.tokenizerKeys,function(e,a){n=n.concat(Bloodhound.tokenizers.whitespace(t[a]))}),n},queryTokenizer:Bloodhound.tokenizers.whitespace};a.local&&(r.local=a.local),a.prefetch&&(r.prefetch={url:a.prefetch,thumbprint:a[M.KEYS_THUMBPRINT]}),a.remote&&(r.remote={url:a.remote,wildcard:M.JSPLACEHOLDER_QUERY});var o=new Bloodhound(r);h.push(o);var i;i=a.staticSuggestions?function(t,n){var r=[];e.each(a.staticSuggestions,function(a,n){var o={};e.each(n,function(e,a){"string"==typeof a&&(a=a.replace(M.JSPLACEHOLDER_QUERY,t)),o[e]=a}),r.push(o)}),n(r)}:o.ttAdapter(),c.push({source:i,name:a.name,display:a.valueKey,limit:n,templates:{suggestion:a.template,header:a.header,pending:a.pending,notFound:a.notFound}})}),e.each(h,function(e,t){t.initialize()}),1==c.length?o.typeahead({highlight:!0},c[0]):2==c.length?o.typeahead({highlight:!0},c[0],c[1]):3==c.length?o.typeahead({highlight:!0},c[0],c[1],c[2]):4==c.length&&o.typeahead({highlight:!0},c[0],c[1],c[2],c[3])})},destroy:function(e){e.find('input[type="text"].tt-input').typeahead("destroy")}}}(jQuery);
;"use strict";!function(e){window.popTypeaheadSearch={typeaheadSearchBtn:function(a){var t=this,p=a.pageSection,c=a.block;a.targets.click(function(){var a=e(this).closest(".pop-typeahead");t.executeTypeaheadSearch(p,c,a)})},typeaheadSearchInput:function(a){var t=this,p=a.pageSection,c=a.block;a.targets.keypress(function(a){if(13==event.which){event.preventDefault();var n=e(this).closest(".pop-typeahead");n.find('input[type="text"].tt-input').typeahead("close"),t.executeTypeaheadSearch(p,c,n)}})},executeTypeaheadSearch:function(e,a,t){var p=t.find('input[type="text"].tt-input'),c=popManager.getQueryUrl(e,a);p.typeahead("val")&&(c=c.replace(M.JSPLACEHOLDER_QUERY,p.typeahead("val")),popManager.click(c,"",t))}}}(jQuery),popJSLibraryManager.register(popTypeaheadSearch,["typeaheadSearchBtn","typeaheadSearchInput"]);
;"use strict";!function(e){window.popTypeaheadFetchLink={fetchlinkTypeahead:function(a){var p=a.domain,t=a.pageSection,i=a.block,n=a.targets;popTypeahead.typeahead(p,t,i,n),n.each(function(){e(this).bind("typeahead:selected",function(a,p,t){var i=e(this).closest(".pop-typeahead");popManager.click(p.url,"",i)})})}}}(jQuery),popJSLibraryManager.register(popTypeaheadFetchLink,["fetchlinkTypeahead"]);
;"use strict";!function(e){window.popTypeaheadSelectable={fillTypeahead:function(a){var t=a.domain,p=a.pageSection,c=a.block;a.targets.each(function(){var a=e(this),d=a.data("urlparam");if(d){var i=popManager.getBlockTopLevelURL(c),o=getParam(d,i);if(o){var n=a.data("database-key");e.each(o,function(e,d){var i=popManager.getItemObject(t,n,d);popTypeahead.selectTypeahead(t,p,c,a,i)}),popJSLibraryManager.execute("typeaheadFilled",{typeahead:a})}}})},selectDatum:function(a){var t=a.domain,p=a.pageSection,c=a.block;a.targets.click(function(a){a.preventDefault();var d=e(this),i=e(d.data("target")),o=d.data("objectid"),n=d.data("db-key"),l=popManager.getItemObject(t,n,o);popTypeahead.selectTypeahead(t,p,c,i,l)})},selectableTypeahead:function(a){var t=a.domain,p=a.pageSection,c=a.block,d=a.targets;popTypeahead.typeahead(t,p,c,d),d.each(function(){var a=e(this);popTypeaheadValidate.validateMaxSelected(p,c,a),a.bind("typeahead:selected",function(a,d,i){var o=e(this);popTypeahead.selectTypeahead(t,p,c,o,d)})})}}}(jQuery),popJSLibraryManager.register(popTypeaheadSelectable,["fillTypeahead","selectableTypeahead","selectDatum"]);
;"use strict";!function(e){window.popTypeaheadTriggerSelect={triggerSelect:function(t,a,n,p,i){if(i&&i.id&&0==p.find('input[type="hidden"][value="'+i.id+'"]').length){var d=popManager.getJsSettings(t,a,n,p),o=d["trigger-layout"],r=(popManager.getSettingsId(a),popManager.getSettingsId(n),{extendContext:e.extend({itemObject:i},d["datum-context"])});popJSRuntimeManager.setBlockURL(n);var g=popManager.getTemplateHtml(t,a,n,o,r);popManager.mergeHtml(g,p.find(".pop-box")),popManager.runJSMethods(t,a,n,o,"last"),popJSRuntimeManager.deleteBlockLastSessionIds(t,a,n,o),popTypeaheadValidate.validateMaxSelected(a,n,p),p.triggerHandler("selected",[i])}},removeSelected:function(e,t){e.find('input[type="hidden"][value="'+t+'"]').closest(".alert").alert("close")}}}(jQuery);
;"use strict";jQuery,window.popTypeaheadValidate={validateMaxSelected:function(e,t,a){var d=this;if(a.data("max-selected")&&a.find('input[type="hidden"]').length==a.data("max-selected")){var i=d.getElementsToDisable(a);i.attr("disabled","disabled"),i.addClass("disabled")}},getElementsToDisable:function(e){return e.children("div.pop-operation").find("a, button, input")}};
;"use strict";jQuery,window.popTypeaheadStorage={removeLocalStorageItem:function(e){var r=e.path,a=e.key;e.result=e.result||a.startsWith("__"+r)}},popJSLibraryManager.register(popTypeaheadStorage,["removeLocalStorageItem"]);
;"use strict";jQuery,window.popPerfectScrollbar={scrollbarHorizontal:function(r){r.pageSection;var e=r.targets;jQuery(document).ready(function(r){e.perfectScrollbar({suppressScrollY:!0})})},scrollbarVertical:function(r){r.pageSection;var e=r.targets;jQuery(document).ready(function(r){e.perfectScrollbar({suppressScrollX:!0})})},getPosition:function(r){var e=r.elem.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");if(e.length){var o=e.children(".perfect-scrollbar-offsetreference");if(o.length)return-1*o.position().top}return 0},doScroll:function(r,e,o){o?r.animate({scrollTop:e}):r.scrollTop(e),r.perfectScrollbar("update")},scrollToElem:function(r){var e=this,o=r.elem,l=r.position,t=r.animate,c=o.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");if(c.length){var a=0;if(l){var n=c.children(".perfect-scrollbar-offsetreference");n.length||(n=o),a=l.offset().top-n.offset().top}return e.doScroll(c,a,t),!0}return!1},scrollTop:function(r){var e=this,o=r.elem,l=r.top,t=r.animate;l=l||0;var c=o.closest(".perfect-scrollbar").addBack(".perfect-scrollbar");return!!c.length&&(e.doScroll(c,l,t),!0)}},popJSLibraryManager.register(popPerfectScrollbar,["scrollbarHorizontal","scrollbarVertical","getPosition","scrollToElem","scrollTop"]);
;"use strict";jQuery,window.popExpand={expandJSKeys:function(e){var n=e.context;n[M.JS_FONTAWESOME]&&(n.fontawesome=n[M.JS_FONTAWESOME])}},popJSLibraryManager.register(popExpand,["expandJSKeys"]);
;"use strict";!function(e){window.popFunctions={beep:function(e){beep()},showmore:function(t){var a=t.targets;a.find(".pop-showmore-more").click(function(t){t.preventDefault();var a=e(this).closest(".pop-content");a.find(".pop-showmore-more").addClass("hidden"),a.find(".pop-showmore-less").removeClass("hidden"),a.find(".pop-showmore-more-full").removeClass("hidden")}),a.find(".pop-showmore-less").click(function(t){t.preventDefault();var a=e(this).closest(".pop-content");a.find(".pop-showmore-less").addClass("hidden"),a.find(".pop-showmore-more").removeClass("hidden"),a.find(".pop-showmore-more-full").addClass("hidden")})},hideEmpty:function(e){e.targets.closest(".pop-hide-empty").addClass("hidden")},switchTargetClass:function(t){t.targets.click(function(t){var a=e(this);a.is('a[href="#"]')&&t.preventDefault();var o=e(a.data("target"))||e(document.body),n=a.data("mode")||"add",r=a.data("class");"add"==n?o.addClass(r):"remove"==n?o.removeClass(r):"toggle"==n&&o.toggleClass(r)})},doNothing:function(e){e.targets.click(function(e){e.preventDefault()})},fetchMore:function(e){var t=e.pageSection,a=e.block,o=e.targets;a.on("fetchCompleted",function(e){popManager.stopFetchingBlock(t,a)?o.addClass("hidden"):o.removeClass("hidden")}),o.click(function(e){e.preventDefault(),popManager.fetchBlock(t,a,{operation:M.URLPARAM_OPERATION_APPEND})})},fetchMoreDisable:function(e){var t=e.block,a=e.targets;t.on("beforeFetch",function(e,t){t["skip-status"]||a.addClass("disabled").attr("disabled","disabled")}),t.on("fetchCompleted",function(e){a.removeClass("disabled").attr("disabled",!1)})},saveLastClicked:function(t){t.pageSection;var a=t.block;t.targets.click(function(t){var o=e(this);a.find('[data-action="retry"]').data("lastclicked","#"+o.attr("id")).removeClass("hidden")})},retrySendRequest:function(t){t.pageSection,t.block;t.targets.click(function(t){t.preventDefault();var a=e(this);a.data("lastclicked")&&e(a.data("lastclicked")).trigger("click")})},reset:function(t){var a=t.domain,o=t.pageSection;t.targets.click(function(t){t.preventDefault();var n=e(this),r=popManager.getBlock(n);popManager.reset(a,o,r),popManager.closeMessageFeedback(r)})},sortable:function(t){t.pageSection,t.block;var a=t.targets;e(document).ready(function(e){a.sortable({cursor:"move"})})},onActionThenClick:function(t){t.targets.each(function(){var t=e(this),a=e(t.data("triggertarget")),o=t.data("trigger-action")||"click";t.data("triggertarget-internal")&&(a=a.find(t.data("triggertarget-internal"))),a.on(o,function(e){t.trigger("click")})})},getUrl:function(t,a,o){var n=(a=popManager.getOriginalLink(a)).data("target-url");if(!n){var r=e(a.data("blocktarget")),i=popManager.getPageSection(r);n=popManager.getBlockFilteringUrl(t,i,r,o)}return n}}}(jQuery),popJSLibraryManager.register(popFunctions,["showmore","hideEmpty","switchTargetClass","doNothing","fetchMore","fetchMoreDisable","saveLastClicked","retrySendRequest","reset","sortable","onActionThenClick","beep"]);
;"use strict";!function(t){window.popInputFunctions={fillURLParamInput:function(n){var a=this,r=n.block;n.targets.each(function(){var n=t(this),i=a.getURLParamInputValue(r,n);n.val(i)})},fillAddonInput:function(n){var a=this,r=n.targets,i=n.relatedTarget;i&&r.each(function(){var n=t(this);a.fillInput(n,i)})},fillAddonURLInput:function(n){var a=this,r=n.domain,i=n.targets,o=n.relatedTarget;o&&i.each(function(){var n=t(this);a.fillURLInput(r,n,o)})},browserUrl:function(t){var n=t.targets;n.closest("form").on("beforeSubmit",function(){var t=window.location.href;n.val(t)})},getURLParamInputValue:function(t,n){var a,r=n.data("urlparam");if(r){var i=popManager.getBlockTopLevelURL(t);a=getParam(r,i)}return a||""},fillInput:function(t,n){n=popManager.getOriginalLink(n);var a,r=t.data("attr");r&&(a=n.data(r)),a=a||"",t.val(a)},fillURLInput:function(t,n,a){a=popManager.getOriginalLink(a);var r=popFunctions.getUrl(t,a);n.val(r)}}}(jQuery),popJSLibraryManager.register(popInputFunctions,["fillURLParamInput","fillAddonInput","fillAddonURLInput","browserUrl"]);
;"use strict";!function(e){window.popEmbedFunctions={reloadEmbedPreview:function(t){var r=this,a=t.domain,n=t.pageSection,i=t.block;t.targets.each(function(){var t=e(this);e(t.data("input-target")).change(function(){e(this);r.embedPreviewFromInput(a,n,i,t)}),r.embedPreviewFromInput(a,n,i,t)})},getUnembedUrl:function(t){var r=popJSLibraryManager.execute("getUnembedUrl",{url:t});return e.each(r,function(e,r){if(r)return t=r,-1}),t},getEmbedUrl:function(t){var r=popJSLibraryManager.execute("getEmbedUrl",{url:t});return e.each(r,function(e,r){if(r)return t=r,-1}),t},getPrintUrl:function(t){var r=popJSLibraryManager.execute("getPrintUrl",{url:t});return e.each(r,function(e,r){if(r)return t=r,-1}),t},embedPreviewFromInput:function(t,r,a,n){var i=this,o=e(n.data("input-target")).val();if(o&&isUrlValid(o)){var u=e(n.data("iframe-target")),d=i.embedPreview(t,r,a,u,o);n.data("iframe-target","#"+d.targetContainer.attr("id"))}},embedPreview:function(e,t,r,a,n){var i={operation:M.URLPARAM_OPERATION_REPLACEINLINE,extendContext:{src:n},"merge-target":"#"+a.attr("id")},o=a.data("templateid");popJSRuntimeManager.setBlockURL(r);var u=popManager.mergeTargetTemplate(e,t,r,o,i);popManager.runJSMethods(e,t,r,o,"full");var d=popJSRuntimeManager.getLastGeneratedId(e,popManager.getSettingsId(t),popManager.getSettingsId(r),o);return r.data("embed-iframe","#"+d),u},execReplaceCode:function(e,t){var r=e.data("code-placeholder").format(t);e.val(r)}}}(jQuery),popJSLibraryManager.register(popEmbedFunctions,["reloadEmbedPreview"]);
;"use strict";!function(n){window.popPrintFunctions={printWindow:function(i){getParam(M.URLPARAM_ACTION,window.location.href)==M.URLPARAM_ACTION_PRINT&&n(document).ready(function(n){window.print()})}}}(jQuery),popJSLibraryManager.register(popPrintFunctions,["printWindow"]);
;"use strict";!function(e){window.popTargetFunctions={copyHeader:function(e){var a=e.targets,r=e.relatedTarget;if(r){var t=(r=popManager.getOriginalLink(r)).data("header");t&&a.find(".pop-header").removeClass("hidden").find(".pop-box").html(t)}},highlight:function(a){a.targets.each(function(){var a=e(this),r=popManager.getPageSection(a);popManager.scrollToElem(r,a,!0)})}}}(jQuery),popJSLibraryManager.register(popTargetFunctions,["copyHeader","highlight"]);
;"use strict";!function(e){window.popSocialMedia={socialmediaCounter:function(a){a.targets.one("mouseenter",function(){e(this).children("a.socialmedia-item").each(function(){var a=e(this),r=a.data("provider");if(r){var i=M.SOCIALMEDIA[r];i&&e.ajax({type:"GET",dataType:i.dataType,url:i["counter-url"].replace("%s",a.data("url")),success:function(e){if(e.hasOwnProperty(i.property)){var r=e[i.property];0!=r&&a.children(".pop-counter").html(r)}}})}})})}}}(jQuery),popJSLibraryManager.register(popSocialMedia,["socialmediaCounter"]);
;"use strict";!function(e){window.popEmbeddable={fullscreen:function(n){var l=n.targets;e(document).bind("fullscreenchange",function(){var n=l.find(".glyphicon");e(document).fullScreen()?n.removeClass("glyphicon-fullscreen").addClass("glyphicon-resize-small"):n.addClass("glyphicon-fullscreen").removeClass("glyphicon-resize-small")}),l.click(function(n){n.preventDefault(),e(this).closest(".pop-fullscreen").toggleFullScreen()})},newWindow:function(e){var n=this;e.targets.click(function(e){e.preventDefault(),window.open(n.getUnembedUrl(window.location.href),"_blank")})}}}(jQuery),popJSLibraryManager.register(popEmbeddable,["newWindow","fullscreen"]);
;"use strict";!function(t){window.popBlockDataQuery={initDelegatorFilter:function(e){var a=e.pageSection;e.targets.submit(function(e){e.preventDefault();var o=t(this);if(o.data("blocktarget")){var i=t(o.data("blocktarget")),n=popManager.getPageSection(i);popManager.isBlockGroup(i)?popBlockGroupDataQuery.filterBlockGroup(n,i,o):popManager.filter(n,i,o),popPageSectionManager.close(a,"xs")}})},initBlockFilter:function(e){var a=e.pageSection,o=e.block;e.targets.submit(function(e){e.preventDefault();var i=t(this);i.data("blocktarget")&&(o=t(i.data("blocktarget")),a=popManager.getPageSection(o)),popManager.filter(a,o,i)})},reloadBlock:function(t){var e=t.pageSection,a=t.block;t.targets.click(function(t){t.preventDefault(),popManager.reload(e,a)})},loadLatestBlock:function(t){var e=t.domain,a=t.pageSection,o=t.block;t.targets.click(function(t){t.preventDefault(),popManager.loadLatest(e,a,o)})},timeoutLoadLatestBlock:function(e){var a=this,o=e.domain,i=e.pageSection,n=e.block;e.targets.each(function(){var e=t(this),c=e.data("clicktime")||3e4;a.execTimeoutLoadLatestBlock(o,i,n,e,c)})},initFilter:function(e){var a=e.pageSection,o=e.block;e.targets.each(function(){var e=t(this);popManager.setFilterBlockParams(a,o,e)})},makeAlwaysRefetchBlock:function(e){var a=this,o=e.pageSection;e.block.on("visible",function(){var e=t(this);a.refetchBlock(o,e)})},execTimeoutLoadLatestBlock:function(e,a,o,i,n){var c=this,r=popManager.getJsSettings(e,a,o,i),l={"skip-status":!0,"datasetcount-target":r["datasetcount-target"],"datasetcount-updatetitle":r["datasetcount-updatetitle"]};!(r["only-loggedin"]||!1)||popUserAccount.isLoggedIn(e)?setTimeout(function(){t("#"+i.attr("id")).length&&(popManager.loadLatest(e,a,o,l),c.execTimeoutLoadLatestBlock(e,a,o,i,n))},n):t(document).one("user:loggedin:"+e,function(t,r){c.execTimeoutLoadLatestBlock(e,a,o,i,n)})},execRefetchBlock:function(e,a){var o=this;a.each(function(){var a=t("#"+t(this).attr("id"));a.length&&o.refetchBlock(e,a)})},refetchBlock:function(t,e){var a={"post-data":e.data("post-data"),"show-disabled-layer":!0};popManager.refetch(t,e,a)},makeOneTimeRefetch:function(e,a){popManager.jsInitialized(a)&&popManager.isContentLoaded(e,a)&&a.one("visible",function(){var a=t(this);popBlockDataQuery.refetchBlock(e,a)})}}}(jQuery),popJSLibraryManager.register(popBlockDataQuery,["initDelegatorFilter","initBlockFilter","reloadBlock","loadLatestBlock","timeoutLoadLatestBlock","initFilter","makeAlwaysRefetchBlock"]);
;"use strict";!function(e){window.popBlockDataQueryUserState={refetchBlockOnUserLoggedIn:function(n){var o=n.domain,t=n.pageSection,c=n.targets;e(document).one("user:loggedin:"+o,function(e,n){"initialfeedback"!=n&&popBlockDataQuery.execRefetchBlock(t,c)})},nonendingRefetchBlockOnUserLoggedIn:function(e){var n=this,o=e.domain,t=e.pageSection,c=e.targets;n.execNonendingRefetchBlockOnUserEvent(t,c,"user:loggedin:"+o)},nonendingRefetchBlockOnUserLoggedInOut:function(e){var n=this,o=e.domain,t=e.pageSection,c=e.targets;n.execNonendingRefetchBlockOnUserEvent(t,c,"user:loggedinout:"+o)},execNonendingRefetchBlockOnUserEvent:function(n,o,t){e(document).on(t,function(e,t){"initialfeedback"!=t&&"initialuserdata"!=t&&popBlockDataQuery.execRefetchBlock(n,o)})}}}(jQuery),popJSLibraryManager.register(popBlockDataQueryUserState,["refetchBlockOnUserLoggedIn","nonendingRefetchBlockOnUserLoggedIn","nonendingRefetchBlockOnUserLoggedInOut"]);
;"use strict";!function(o){window.popBlockGroupDataQuery={initBlockGroupFilter:function(r){var a=this,e=r.pageSection,t=r.block,c=r.targets,p=popManager.getBlockGroupBlocks(t);c.each(function(r){var a=o(this);p.each(function(){var r=o(this);popManager.setFilterBlockParams(e,r,a)})}),c.submit(function(r){r.preventDefault();var c=o(this);a.filterBlockGroup(e,t,c)})},reloadBlockGroup:function(o){var r=o.pageSection,a=o.block;o.targets.click(function(o){o.preventDefault();var e=popManager.getBlockGroupActiveBlock(a);popManager.reload(r,e)})},filterBlockGroup:function(r,a,e){var t=popManager.getBlockGroupActiveBlock(a);popManager.getBlockGroupBlocks(a).each(function(){var a=o(this);popManager.setFilterBlockParams(r,a,e),a.attr("id")==t.attr("id")?(popManager.reload(r,a),popManager.blockScrollTop(r,a)):popBlockDataQuery.makeOneTimeRefetch(r,a)})}}}(jQuery),popJSLibraryManager.register(popBlockGroupDataQuery,["initBlockGroupFilter","reloadBlockGroup"]);
;"use strict";!function(e){window.popBlockGroupDataQueryUserState={refetchBlockGroupOnUserLoggedIn:function(o){var t=o.domain,r=o.pageSection,a=o.targets;e(document).one("user:loggedin:"+t,function(o,t){"initialfeedback"!=t&&a.each(function(){var o=e("#"+e(this).attr("id"));if(o.length){var t=popManager.getBlockGroupBlocks(o),a=popManager.getBlockGroupActiveBlock(o);t.each(function(){var o=e(this);o.attr("id")==a.attr("id")?popBlockDataQuery.refetchBlock(r,o):popBlockDataQuery.makeOneTimeRefetch(r,o)})}})})}}}(jQuery),popJSLibraryManager.register(popBlockGroupDataQueryUserState,["refetchBlockGroupOnUserLoggedIn"]);
;"use strict";!function(t){window.popDatasetCount={displayBlockDatasetCount:function(a){var e=a.domain,n=a.pageSection,o=a.block;if(o.data("datasetcount-target")){var u=popManager.getJsSettings(e,n,o),c=u["display-datasetcount-when"]||["oncreated"],d=u["datasetcount-updatetitle"];c.indexOf("oncreated")>-1&&t(document).ready(function(t){var a=t(o.data("datasetcount-target"));popManager.displayDatasetCount(e,n,o,a,d)}),c.indexOf("onrendered")>-1&&o.on("rendered",function(a){var u=t(o.data("datasetcount-target"));popManager.displayDatasetCount(e,n,o,u,d)})}},clearDatasetCount:function(a){var e=this;a.pageSection,a.block;a.targets.each(function(){var a=t(this),n=t(a.data("datasetcount-target")),o=!!a.data("datasetcount-updatetitle");a.click(function(t){t.preventDefault(),e.execClearDatasetCount(n,o)}),a.hover(function(){e.execClearDatasetCount(n,o)})})},clearDatasetCountOnUserLoggedOut:function(a){var e=this;a.pageSection,a.block;a.targets.each(function(){var a=t(this),n=t(a.data("datasetcount-target")),o=!!a.data("datasetcount-updatetitle");t(document).on("user:loggedout",function(t){e.execClearDatasetCount(n,o)})})},execClearDatasetCount:function(t,a){t.html("").addClass("hidden"),a&&(document.title=popManager.documentTitle)}}}(jQuery),popJSLibraryManager.register(popDatasetCount,["displayBlockDatasetCount","clearDatasetCount","clearDatasetCountOnUserLoggedOut"]);
;"use strict";!function(e){window.popForms={interceptForm:function(t){t.pageSection;t.targets.click(function(t){t.preventDefault();var a=e(this),n=e(a.data("target")),r=splitParams(a.data("post-data"));e.each(r,function(e,t){n.find('input[name="'+e+'"]').val(t)}),n.submit()})},forms:function(t){var a=t.pageSection,n=t.block,r=t.targets,o=popManager.getSettingsId(a),i=popManager.getSettingsId(n);r.submit(function(t){t.preventDefault();var r=e(this);r.triggerHandler("beforeSubmit"),popManager.fetchBlock(a,n,{type:"POST","post-data":r.serialize()}),popManager.blockScrollTop(a,n)}),n.on("fetched",function(e,t){var c=t.feedback.block[o][i];!0===c.result&&r.triggerHandler("clear"),c["show-msgs"]&&c.msgs&&c.msgs.length&&popManager.scrollToElem(a,n.children(".blocksection-messagefeedback").first(),!0),popManager.maybeRedirect(c)})},formHandleDisabledLayer:function(e){var t=e.pageSection,a=e.block,n=e.targets,r=popManager.getSettingsId(t),o=popManager.getSettingsId(a);a.on("fetched",function(e,t){var a=t.feedback.block[r][o];a["validate-checkpoints"]&&a["checkpointvalidation-failed"]||n.children(".form-inner").children(".pop-disabledlayer").addClass("hidden")})},clearInput:function(t){t.pageSection;t.targets.each(function(){var t=e(this);t.closest("form").on("clear",function(){t.val("")})})}}}(jQuery),popJSLibraryManager.register(popForms,["interceptForm","forms","formHandleDisabledLayer","clearInput"]);
;"use strict";!function(e){window.popLinks={documentInitialized:function(){this.links()},links:function(){var t=this,a=new RegExp(/\.(gif|jpg|jpeg|tiff|png)$/i),n=new RegExp(/\.(pdf|css|js|zip|tar|ppt|pptx|doc|docx|xls|xlsx)$/i),r=[];e.each(M.ALLOWED_DOMAINS,function(e,t){r.push('a[href^="'+t+'"]')}),e(document).on("click",r.join(","),function(r){var i=e(this),o=i.attr("href");if(a.test(o))if(popJSLibraryManager.getLibraries("linksImage").length){r.preventDefault();var p={anchor:i};popJSLibraryManager.execute("linksImage",p)}else t.linkBlankTarget(i);else if(n.test(o))t.linkBlankTarget(i);else{var l=popManager.getPageSection(i),s=i.attr("target")||M.URLPARAM_TARGET_MAIN;if(s==M.URLPARAM_TARGET_FULL)return r.preventDefault(),t.maybeaddspinner(i,o),void(window.location=o);if(s==M.URLPARAM_TARGET_PRINT)return r.preventDefault(),void t.openPrint(o);if(popManager.targetExists(s)){r.preventDefault(),o==M.HOME_DOMAIN&&(o=M.HOME_DOMAIN+"/");var d=!1,g={},c={};if(i.data("reloadurl"))g.reloadurl=!0;else{c={event:r,relatedTarget:i,target:i.attr("target")||popManager.getClickFrameTarget(l)};var f=o;i.data("append-intercepturl")&&(f+=i.data("append-intercepturl")),d=popURLInterceptors.getInterceptors(f,c).length}if(d)popURLInterceptors.intercept(f,c);else{g.target=s,g["js-args"]={relatedTarget:i};var u=t.maybeaddspinner(i,o)?"":null;void 0!==i.data("loadingmsg-target")&&(u=i.data("loadingmsg-target")),null!=u&&(g["loadingmsg-target"]=u),r.metaKey&&(g.silentDocument=!0,g["js-args"].inactivePane=!0),popManager.fetch(o,g)}}}}),e(document).on("click",'a[target="'+M.URLPARAM_TARGET_SOCIALMEDIA+'"]',function(a){a.preventDefault();var n=e(this).attr("href");t.openSocialMedia(n)}),e(document).on("click",'a[href^="#"]',function(t){var a=e(this),n=a.attr("href");if(n.length>1){var r=e(n),i=void 0!==a.data("toggle")||void 0!==a.data("slide");r.length&&!i&&(t.preventDefault(),popManager.scrollToElem(popManager.getPageSection(r),r,!0))}}),e(document).on("click",'a[href^="http://"],a[href^="https://"]',function(a){var n=e(this),r=n.attr("href"),i=!0;e.each(M.ALLOWED_DOMAINS,function(e,t){if(r.startsWith(t))return i=!1,-1}),i&&t.linkBlankTarget(n)})},linkBlankTarget:function(e){e.attr("target")||e.attr("target","_blank")},maybeaddspinner:function(t,a){var n=!t.hasClass("hidden")&&(M.ADDANCHORSPINNER&&void 0===t.data("addspinner")||t.data("addspinner"));if(n){var r=e('<span class="pop-spinner">'+M.SPINNER+"</span>");t.find("img").length&&r.addClass("spinner-img"),e(document).one("urlfetchcompleted:"+escape(a),function(){t.removeClass("loading").children(".pop-spinner").remove()}),t.trigger("blur").addClass("loading").prepend(r)}return n},openPrint:function(e){window.open(e,"_blank")},openSocialMedia:function(e){window.open(e,"_blank","left=20,top=20,width=500,height=400,toolbar=1,resizable=0")}}}(jQuery),popJSLibraryManager.register(popLinks,["documentInitialized"],!0);
;"use strict";!function(a){window.popClasses={addDomainClass:function(s){var e=s.domain,i=s.pageSection,n=s.block,o=s.targets;o.each(function(){var s=a(this),t=popManager.getJsSettings(e,i,n,s).prefix||"";o.addClass(t+getDomainId(e))})}}}(jQuery),popJSLibraryManager.register(popClasses,["addDomainClass"]);
;"use strict";!function(r){window.popScrolls={scrollHandler:function(l){var o=0;l.pageSection.scroll(function(){var l=r(this).scrollTop();Math.abs(o-l)>=200&&(l>o?r(window).triggerHandler("scroll:down"):r(window).triggerHandler("scroll:up"),o=l)})}}}(jQuery),popJSLibraryManager.register(popScrolls,["scrollHandler"]);
;"use strict";!function(n){window.popOnlineOffline={documentInitialized:function(){this.onlineOffline()},onlineOffline:function(){var n=this;window.addEventListener("online",n.checkOnlineOffline),window.addEventListener("offline",n.checkOnlineOffline),n.checkOnlineOffline()},checkOnlineOffline:function(){navigator.onLine?n(document.body).addClass("online").removeClass("offline"):n(document.body).addClass("offline").removeClass("online")}}}(jQuery),popJSLibraryManager.register(popOnlineOffline,["documentInitialized"]);
;"use strict";!function(e){window.popEventReactions={resetOnSuccess:function(t){var a=t.domain,n=t.pageSection,o=t.targets,s=popManager.getSettingsId(n);o.on("fetched",function(t,o){var c=e(this),g=popManager.getSettingsId(c);!0===o.feedback.block[s][g].result&&popManager.reset(a,n,c,{"skip-restore":!0})})},destroyPageOnSuccess:function(t){var a=t.pageSection,n=t.targets,o=popManager.getSettingsId(a);n.on("fetched",function(t,n){var s=e(this),c=popManager.getSettingsId(s),g=n.feedback.block[o][c],i=popManager.getFrameTarget(a);if(!0===g.result){var r=s.data("destroytime")||0;setTimeout(function(){popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(s),i)},r)}})},closeMessageFeedbacksOnPageSectionOpen:function(e){var t=e.pageSection;e.targets;popPageSectionManager.getGroup(t).on("on.bs.pagesection-group:pagesection-"+t.attr("id")+":opened",function(){popManager.closeMessageFeedbacks(t)})},closePageSectionOnSuccess:function(t){var a=this,n=t.pageSection,o=t.targets,s=popManager.getSettingsId(n);o.on("fetched",function(t,o){var c=e(this),g=popManager.getSettingsId(c);if(!0===o.feedback.block[s][g].result){var i=c.data("closetime")||0;a.timeoutClosePageSection(n,i)}})},closePageSectionOnTabpaneShown:function(t){var a=t.pageSection;t.targets.each(function(){var t=e(this);popManager.getPageSectionPage(t).on("shown.bs.tabpane",function(){popPageSectionManager.close(a)}),popPageSectionManager.close(a)})},timeoutClosePageSection:function(e,t){setTimeout(function(){popPageSectionManager.close(e),popManager.closeMessageFeedbacks(e)},t)}}}(jQuery),popJSLibraryManager.register(popEventReactions,["closePageSectionOnTabpaneShown","resetOnSuccess","closeMessageFeedbacksOnPageSectionOpen","closePageSectionOnSuccess","destroyPageOnSuccess"]);
;"use strict";!function(e){window.popEventReactionsUserState={resetOnUserLogout:function(t){var o=t.domain,n=t.pageSection,a=t.targets;e(document).on("user:loggedout:"+o,function(t,r){a.each(function(){var t=e("#"+e(this).attr("id"));t.length&&popManager.reset(o,n,t)})})},destroyPageOnUserLoggedOut:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserLoggedOut(o,a)})},destroyPageOnUserNoRole:function(e){var t=this,o=e.domain,n=e.pageSection,a=e.targets;n.one("completed",function(){t.execDestroyPageOnUserNoRole(o,n,a)})},deleteBlockFeedbackValueOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block;e(document).on("user:loggedinout:"+o,function(t,r){if("initialfeedback"!=r&&"initialuserdata"!=r){var g=popManager.getJsSettings(o,n,a)["user:loggedinout-deletefeedbackvalue"]||[];if(g.length){var i=popManager.getBlockFeedback(o,n,a);e.each(g,function(e,t){for(var o=i,n=0;n<t.length-1;n++)o=o[t[n]];delete o[t[t.length-1]]})}}})},scrollTopOnUserLoggedInOut:function(t){var o=t.domain,n=t.pageSection,a=t.block,r=t.targets;e(document).on("user:loggedinout:"+o,function(t,g){"initialfeedback"!=g&&"initialuserdata"!=g&&r.each(function(){var t=e(this);if(e("#"+t.attr("id")).length){var r=popManager.getJsSettings(o,n,a,t)["scrolltop-animate"]||!1;popManager.scrollToElem(t,t,r)}})})},execDestroyPageOnUserLoggedOut:function(t,o){e(document).one("user:loggedout:"+t,function(t,n){o.each(function(){var t=e("#"+e(this).attr("id"));if(t.length){var o=popManager.getPageSection(t),n=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(t),n)}})})},execDestroyPageOnUserNoRole:function(t,o,n){var a=this,r=n.data("neededrole");e(document).one("user:updated:"+t,function(g,i){if((n=e("#"+n.attr("id"))).length)if(i.roles&&-1==i.roles.indexOf(r)){var s=popManager.getFrameTarget(o);popManager.triggerDestroyTarget(popManager.getTargetParamsScopeURL(n),s)}else a.execDestroyPageOnUserNoRole(t,o,n)})}}}(jQuery),popJSLibraryManager.register(popEventReactionsUserState,["resetOnUserLogout","destroyPageOnUserLoggedOut","destroyPageOnUserNoRole","deleteBlockFeedbackValueOnUserLoggedInOut","scrollTopOnUserLoggedInOut"]);
;"use strict";jQuery,window.popFeedbackMessage={formatFeedbackMessage:function(e,s,a,r){var t={message:e,tls:s,pss:a,bs:r};return popJSLibraryManager.execute("formatFeedbackMessage",t),t.message}};
;"use strict";!function(t){window.popControls={controlPrint:function(e){var r=this,n=e.domain,o=e.pageSection;e.block;e.targets.click(function(e){e.preventDefault();var a=t(this),i=r.getBlockFilteringUrl(n,o,a,!0);i=popEmbedFunctions.getPrintUrl(i),popLinks.openPrint(i)})},controlSocialMedia:function(e){var r=this,n=e.domain,o=e.pageSection;e.block;e.targets.click(function(e){e.preventDefault();var a=t(this),i=a.data("shareurl")?a.data("shareurl"):r.getBlockFilteringUrl(n,o,a,!0),l=a.data("sharetitle")?a.data("sharetitle"):popManager.documentTitle,c=a.data("provider"),p=M.SOCIALMEDIA[c]["share-url"].replace(new RegExp("%url%","g"),encodeURIComponent(i)).replace(new RegExp("%title%","g"),encodeURIComponent(l));popLinks.openSocialMedia(p)})},getBlockFilteringUrl:function(e,r,n,o){var a=t(n.data("blocktarget"));return popManager.getBlockFilteringUrl(e,r,a,o)}}}(jQuery),popJSLibraryManager.register(popControls,["controlPrint","controlSocialMedia"]);
;!function(t,i,e,n){"use strict";t.fn.dynamicMaxHeight=function(i){function e(t,i){var e;e=t.hasClass(d)?i.data("replace-text"):i.attr("title"),i.text(e)}function n(t,i){t.find("."+c).css("max-height",i)}function a(t,i){i.css("display","inline-block")}var c="dynamic-height-wrap",d="dynamic-height-active",o="js-dynamic-show-hide";return this.each(function(i,s){var h=t(s),u=h.data("maxheight"),l=h.find("."+c).outerHeight(),r=h.find("."+o);h.attr("data-itemheight",l),l>u&&(n(h,u),h.toggleClass(d),a(h,r)),r.click(function(){h.hasClass(d)?n(h,l):n(h,u),e(h,r),h.toggleClass(d)})})}}(window.jQuery||window.$,document,window),"undefined"!=typeof module&&module.exports&&(module.exports=dynamicMaxHeight);
;"use strict";!function(e){window.popMenus={activeLinks:function(a){var i=a.pageSection,t=a.targets,n=a.domain;if(popManager.getFetchPageSectionSettings(i).activeLinks){var s=popManager.getTopLevelFeedback(n)[M.URLPARAM_PARENTPAGEID];s&&t.find(".menu-item-object-id-"+s).each(function(){var a=e(this);a.addClass("active"),a.parents(".menu-item").addClass("active")})}}}}(jQuery),popJSLibraryManager.register(popMenus,["activeLinks"]);