"use strict";function mentions_source(e,n,t){popMentions.source(e,n,t)}function mentions_insert(e){return popMentions.insert(e)}function mentions_render(e){return popMentions.render(e)}!function(e){window.popMentions={previousData:{},documentInitialized:function(n){var t=this;e(document).ready(function(e){t.prefetch()})},prefetch:function(){var n=this;e.each(M.MENTIONS.TYPES,function(e,t){n.fetchData(e,t.baseline)})},fetchData:function(n,t,r){var i=this,a=popManager.getStoredData(t);a?i.processData(n,a,r):e.getJSON(t,function(e){popManager.storeData(t,e,864e5),i.processData(n,e,r)})},processData:function(e,n,t){this.previousData[e]=n,t&&t(n)},source:function(e,n,t){var r=this;if(M.MENTIONS.TYPES[t]){var i;if(i=e?M.MENTIONS.TYPES[t].url.replace(M.MENTIONS.QUERYWILDCARD,e):M.MENTIONS.TYPES[t].baseline){var a={url:i=popManager.maybeModifyURL(i),delimiter:t,query:e};popJSLibraryManager.execute("mentionsSource",a),i=a.url,n(r.previousData[t]||[]),r.fetchData(t,i,n)}}},render:function(e){var n=this.infereDelimiter(e);return'<li><a href="javascript:;"><span>'+popManager.getHtml(M.MENTIONS.TYPES[n].template,e)+"</span></a></li>"},insert:function(e){var n=this.infereDelimiter(e);return"<span>"+n+e[M.MENTIONS.TYPES[n].key]+"</span>&nbsp;"},infereDelimiter:function(n){var t="";return e.each(M.MENTIONS.TYPES,function(e,r){if(void 0!==n[r.key])return t=e,-1}),t}}}(jQuery),popJSLibraryManager.register(popMentions,["documentInitialized"]);