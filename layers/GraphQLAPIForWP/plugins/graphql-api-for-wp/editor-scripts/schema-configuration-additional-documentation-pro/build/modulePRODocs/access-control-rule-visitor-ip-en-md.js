(window.webpackJsonpGraphQLAPISchemaConfigurationAdditionalDocumentationPRO=window.webpackJsonpGraphQLAPISchemaConfigurationAdditionalDocumentationPRO||[]).push([[4],{49:function(e,o){e.exports='<h1 id="access-control-rule-visitor-ip">Access Control Rule: Visitor IP</h1> <p>Grant access to the selected schema elements based on the visitor coming from an allowed IP address</p> <h2 id="configuring-the-ip-addresses">Configuring the IP addresses</h2> <p>We must define the list of IP addresses that can either access, or are denied access to, the schema elements.</p> <p>Each entry can either be:</p> <ul> <li>A regex (regular expression), if it&#39;s surrounded by <code>/</code> or <code>#</code>, or</li> <li>The full IP address, otherwise</li> </ul> <p>For instance, any of these entries match IP address <code>&quot;203.23.88.100&quot;</code>:</p> <ul> <li><code>203.23.88.100</code></li> <li><code>#^203\\.23\\.[0-9]{1,3}\\.[0-9]{1,3}$#</code></li> </ul> <p>And under Behavior, select if to &quot;Allow access&quot; or &quot;Deny access&quot; to the schema for those entries.</p> <p><img src="https://raw.githubusercontent.com/leoloso/PoP/master/layers/GraphQLAPIForWP/plugins/graphql-api-for-wp/docs-pro/implicit-features//../../images/acl-rule-visitor-ip-block.png" alt="Adding entries in the Visitor IP block" title="Adding entries in the Visitor IP block"></p> <h2 id="configuring-the-server">Configuring the server</h2> <p>The client&#39;s IP address is retrieved from under the <code>$_SERVER</code> global variable, normally from under property <code>&#39;REMOTE_ADDR&#39;</code>. However, different platforms may require to use a different property name to retrieve this information.</p> <p>For instance:</p> <ul> <li>Cloudflare might use <code>&#39;HTTP_CF_CONNECTING_IP&#39;</code></li> <li>AWS might use <code>&#39;HTTP_X_FORWARDED_FOR&#39;</code></li> </ul> <p>The property name to use can be configured in the &quot;General&quot; tab on the Settings page:</p> <p><img src="https://raw.githubusercontent.com/leoloso/PoP/master/layers/GraphQLAPIForWP/plugins/graphql-api-for-wp/docs-pro/implicit-features//../../images/settings-general-client-ip-address-server-property-name.png" alt="Configuring the $_SERVER property name to retrieve the client IP" title="Configuring the $_SERVER property name to retrieve the client IP"></p> '}}]);